{
    "ServiceSettings": {
        "SiteURL": "<%= @service_site_url %>",
        "WebsocketURL": "<%= @service_websocket_url %>",
        "ListenAddress": "<%= @service_address %>:<%= @service_port %>",
        "ConnectionSecurity": "<%= @service_connection_security %>",
        "TLSCertFile": "<%= @service_tls_cert_file %>",
        "TLSKeyFile": "<%= @service_tls_key_file %>",
        "UseLetsEncrypt": <%= @service_use_lets_encrypt %>,
        "LetsEncryptCertificateCacheFile": "<%= @service_lets_encrypt_cert_cache_file %>",
        "Forward80To443": <%= @service_forward_80_to_443 %>,
        "ReadTimeout": <%= @service_read_timeout %>,
        "WriteTimeout": <%= @service_write_timeout %>,
        "MaximumLoginAttempts": <%= @service_maximum_login_attempts %>,
        "GoogleDeveloperKey": "<%= @service_google_developer_key %>",
        "EnableOAuthServiceProvider": <%= @service_enable_oauth_service_provider %>,
        "EnableIncomingWebhooks": <%= @service_enable_incoming_webhooks %>,
        "EnableOutgoingWebhooks": <%= @service_enable_outgoing_webhooks %>,
        "EnableCommands": <%= @service_enable_commands %>,
        "EnableCustomEmoji": <%= @service_enable_custom_emoji %>,
        "EnablePostUsernameOverride": <%= @service_enable_post_username_override %>,
        "EnablePostIconOverride": <%= @service_enable_post_icon_override %>,
        "EnableTesting": <%= @service_enable_testing %>,
        "EnableSecurityFixAlert": <%= @service_enable_security_fix_alert %>,
        "EnableInsecureOutgoingConnections":  <%= @service_enable_insecure_outgoing_connections %>,
        "AllowedUntrustedInternalConnections":  "<%= @service_allowed_untrusted_internal_connections %>",
        "AllowCorsFrom":  "<%= @service_allow_cors_from %>",
        "AllowCookiesForSubdomains": <%= @service_allow_cookies_from_subdomains %>,
        "EnableDeveloper": <%= @service_enable_developer %>,
        "SessionLengthWebInDays" : <%= @service_session_length_web_in_days %>,
        "SessionLengthMobileInDays" : <%= @service_session_length_mobile_in_days %>,
        "SessionLengthSSOInDays" : <%= @service_session_length_sso_in_days %>,
        "SessionCacheInMinutes" : <%= @service_session_cache_in_minutes %>,
        "TimeBetweenUserTypingUpdatesMilliseconds" : <%= @service_time_between_user_typing_updates_milliseconds %>,
        "EnableUserTypingMessages" : <%= @service_enable_user_typing_messages %>,
        "EnableLinkPreviews" : <%= @service_enable_link_previews %>,
        "EnablePostSearch" : <%= @service_enable_post_search %>,
        "EnableUserStatuses" : <%= @service_enable_post_search %>,
        "EnableEmojiPicker" : <%= @service_enable_emoji_picker %>,
        "EnableChannelViewedMessages" : <%= @service_enable_channel_viewed_messages %>,
        "EnableAPIv3" : <%= @service_enable_apiv3 %>,
        "GoroutineHealthThreshold" : <%= @service_goroutine_health_threshold %>,
        "EnableUserAccessTokens" : <%= @service_user_access_tokens %>,
        "EnablePreviewFeatures": <%= @service_enable_preview_features %>,
        "CloseUnusedDirectMessages": <%= @service_close_unused_direct_messages %>,
        "ImageProxyType": "<%= @service_image_proxy_type %>",
        "ImageProxyOptions": "<%= @service_image_proxy_options %>",
        "ImageProxyURL": "<%= @service_image_proxy_url %>"
    },
    "TeamSettings": {
        "SiteName": "<%= @team_site_name %>",
        "MaxUsersPerTeam": <%= @team_max_users_per_team %>,
        "EnableUserCreation": <%= @team_enable_user_creation %>,
        "EnableOpenServer": <%= @team_enable_open_server %>,
        "RestrictCreationToDomains": "<%= @team_restrict_creation_to_domains %>",
        "RestrictTeamNames": <%= @team_restrict_team_names %>,
        "RestrictDirectMessage": "<%= @team_restrict_direct_message %>",
        "MaxChannelsPerTeam": <%= @team_max_channels_per_team %>,
        "EnableXToLeaveChannelsFromLHS": <%= @team_enable_x_to_leave_channels_from_lhs %>,
        "UserStatusAwayTimeout": <%= @team_user_status_away_timeout %>,
        "EnableConfirmNotificationsToChannel": <%= @team_enable_confirm_notifications_to_channel %>,
        "TeammateNameDisplay" : "<%= @team_teammate_name_display %>"
    },
    "SqlSettings": {
        "DriverName": "<%= @sql_driver_name %>",
        "DataSource": "<%= @sql_data_source %>",
        "DataSourceReplicas": [<%= @sql_data_source_replicas.map{ |dsr| "\"#{dsr}\"" }.join(',') %>],
        "MaxIdleConns": <%= @sql_max_idle_conns %>,
        "MaxOpenConns": <%= @sql_max_open_conns %>,
        "Trace": <%= @sql_trace %>,
        "AtRestEncryptKey": "<%= @sql_at_rest_encrypt_key %>",
        "DataSourceSearchReplicas": <%= @sql_data_source_search_replicas %>,
        "QueryTimeout" : <%= @sql_query_timeout %>
    },
    "LogSettings": {
        "EnableConsole": <%= @log_console_enable %>,
        "EnableWebhookDebugging": <%= @log_enable_webhook_debugging %>,
        "ConsoleLevel": "<%= @log_console_level %>",
        "EnableFile": <%= @log_enable_file %>,
        "FileLevel": "<%= @log_file_level %>",
        "FileFormat": "<%= @log_file_format %>",
        "FileLocation": "<%= @log_file_directory %>",
        "EnableDiagnostics": <%= @log_enable_diagnostics %>
    },
    "FileSettings": {
        "MaxFileSize": <%= @file_max_file_size %>,
        "DriverName": "<%= @file_driver_name %>",
        "Directory": "<%= @file_directory %>",
        "EnablePublicLink": <%= @file_enable_public_link %>,
        "PublicLinkSalt": "<%= @file_public_link_salt %>",
        "InitialFont": "<%= @file_initial_font %>",
        "AmazonS3AccessKeyId": "<%= @file_amazon_s3_access_key_id %>",
        "AmazonS3SecretAccessKey": "<%= @file_amazon_s3_secret_access_key %>",
        "AmazonS3Bucket": "<%= @file_amazon_s3_bucket %>",
        "AmazonS3Region": "<%= @file_amazon_s3_region %>",
        "AmazonS3Endpoint": "<%= @file_amazon_s3_endpoint %>",
        "AmazonS3BucketEndpoint": "<%= @file_amazon_s3_bucket_endpoint %>",
        "AmazonS3LocationConstraint": <%= @file_amazon_s3_location_constraint %>,
        "AmazonS3LowercaseBucket": <%= @file_amazon_s3_lowercase_bucket %>,
        "AmazonS3SSL": <%= @file_amazon_s3_ssl %>,
        "AmazonS3SignV2" : <%= @file_amazon_s3_sign_v2 %>,
        "EnableFileAttachments": <%= @file_enable_file_attachments %>,
        "AmazonS3Trace": <%= @file_amazon_s3_trace %>
    },
    "EmailSettings": {
        "EnableSignUpWithEmail": <%= @email_enable_sign_up_with_email %>,
        "EnableSignInWithEmail": <%= @email_enable_sign_in_with_email %>,
        "EnableSignInWithUsername": <%= @email_enable_sign_in_with_username %>,
        "SendEmailNotifications": <%= @email_send_email_notifications %>,
        "UseChannelInEmailNotifications": <%= @email_use_channel_in_email_notifications %>,
        "RequireEmailVerification": <%= @email_require_email_verification %>,
        "FeedbackName": "<%= @email_feedback_name %>",
        "FeedbackEmail": "<%= @email_feedback_email %>",
        "FeedbackOrganization": "<%= @email_feedback_organization %>",
        "SMTPUsername": "<%= @email_smtp_username %>",
        "SMTPPassword": "<%= @email_smtp_password %>",
        "SMTPServer": "<%= @email_smtp_server %>",
        "SMTPPort": "<%= @email_smtp_port %>",
        "ConnectionSecurity": "<%= @email_connection_security %>",
        "InviteSalt": "<%= @email_invite_salt %>",
        "SendPushNotifications": <%= @email_send_push_notifications %>,
        "PushNotificationServer": "<%= @email_push_notification_server %>",
        "PushNotificationContents": "<%= @email_push_notification_contents %>",
        "EnableEmailBatching": <%= @email_enable_batching %>,
        "EmailBatchingBufferSize": <%= @email_batching_buffer_size %>,
        "EmailBatchingInterval": <%= @email_batching_interval %>,
        "SkipServerCertificateVerification": <%= @email_skip_server_certificate_verification %>,
        "EnableSMTPAuth": <%= @email_smtp_auth %>,
        "EmailNotificationContentType": "<%= @email_notification_content_type %>",
        "LoginButtonColor": "<%= @email_login_button_color %>",
        "LoginButtonBorderColor": "<%= @email_login_button_border_color %>",
        "LoginButtonTextColor": "<%= @email_login_button_text_color %>"
    },
    "RateLimitSettings": {
        "Enable": <%= @ratelimit_enable_rate_limiter %>,
        "PerSec": <%= @ratelimit_per_sec %>,
        "MaxBurst": <%= @ratelimit_max_burst %>,
        "MemoryStoreSize": <%= @ratelimit_memory_store_size %>,
        "VaryByRemoteAddr": <%= @ratelimit_vary_by_remote_addr %>,
        "VaryByUser": <%= @ratelimit_vary_by_user %>,
        "VaryByHeader": "<%= @ratelimit_vary_by_header %>"
    },
    "PrivacySettings": {
        "ShowEmailAddress": <%= @privacy_show_email_address %>,
        "ShowFullName": <%= @privacy_show_full_name %>
    },
    "SupportSettings": {
        "TermsOfServiceLink": "<%= @support_terms_of_service_link %>",
        "PrivacyPolicyLink": "<%= @support_privacy_policy_link %>",
        "AboutLink": "<%= @support_about_link %>",
        "HelpLink": "<%= @support_help_link %>",
        "ReportAProblemLink": "<%= @support_report_a_problem_link %>",
        "SupportEmail": "<%= @support_email %>"
    },
    "GitLabSettings": {
        "Enable": <%= @gitlab_enable %>,
        "Secret": "<%= @gitlab_secret %>",
        "Id": "<%= @gitlab_id %>",
        "Scope": "<%= @gitlab_scope %>",
        "AuthEndpoint": "<%= @gitlab_auth_endpoint %>",
        "TokenEndpoint": "<%= @gitlab_token_endpoint %>",
        "UserApiEndpoint": "<%= @gitlab_user_api_endpoint %>"
    },
    "LocalizationSettings": {
        "DefaultServerLocale": "<%= @localization_server_locale %>",
        "DefaultClientLocale": "<%= @localization_client_locale %>",
        "AvailableLocales": "<%= @localization_available_locales %>"
    },
    "WebrtcSettings": {
        "Enable": <%= @webrtc_enable %>,
        "GatewayWebsocketUrl": "<%= @webrtc_gateway_websocket_url %>",
        "GatewayAdminUrl": "<%= @webrtc_gateway_admin_url %>",
        "GatewayAdminSecret": "<%= @webrtc_gateway_admin_secret %>",
        "StunURI": "<%= @webrtc_gateway_stun_uri %>",
        "TurnURI": "<%= @webrtc_gateway_turn_uri %>",
        "TurnUsername": "<%= @webrtc_gateway_turn_username %>",
        "TurnSharedKey": "<%= @webrtc_gateway_turn_shared_key %>"
    },
    "JobSettings": {
        "RunJobs": <%= @job_run_jobs %>,
        "RunScheduler": <%= @job_run_scheduler %>
    },
    "PluginSettings": {
        "Enable": <%= @plugin_enable %>,
        "EnableUploads": <%= @plugin_enable_uploads %>,
        "Directory": "<%= @plugin_directory %>",
        "ClientDirectory": "<%= @plugin_client_directory %>",
        "Plugins": <%= @plugin_plugins.to_json %>,
        "PluginStates": <%= @plugin_plugin_states.to_json %>
    }
}
