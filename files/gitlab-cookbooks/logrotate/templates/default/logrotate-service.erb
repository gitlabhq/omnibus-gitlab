# Generated by gitlab-ctl reconfigure
# Modifications will be overwritten!

<%= @log_directory %>/*.log {
  su <%= @username %> <%= @groupname %>
  <%= @options['logrotate_frequency'] %>
  <%= "size #{@options['logrotate_size']}" if @options['logrotate_size'] %>
  <%= "maxsize #{@options['logrotate_maxsize']}" if @options['logrotate_maxsize'] %>
  rotate <%= @options['logrotate_rotate'] %>
<% if @options['logrotate_dateformat'] %>
  <%= "dateext" %>
  <%= "dateformat #{@options['logrotate_dateformat']}" %>
<% end %>
  <%= @options['logrotate_compress'] %>
  <%= @options['logrotate_method'] %>
  missingok
  notifempty
  postrotate
    <%= @options['logrotate_postrotate'] %>
  endscript
}
